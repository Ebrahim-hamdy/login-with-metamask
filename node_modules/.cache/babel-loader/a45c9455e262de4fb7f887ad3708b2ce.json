{"ast":null,"code":"var _jsxFileName = \"/Users/ebra/code/blockchain/tezos/login-with-metamask-demo/packages/frontend/src/App/App.tsx\";\nimport './App.css';\nimport React from 'react';\nimport { Login } from '../Login';\nimport { Profile } from '../Profile/Profile';\n// import logo from './logo.svg';\nimport logo from './workflow.jpg';\nconst LS_KEY = 'login-with-metamask:auth';\nexport class App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {};\n\n    this.handleLoggedIn = auth => {\n      localStorage.setItem(LS_KEY, JSON.stringify(auth));\n      this.setState({\n        auth\n      });\n    };\n\n    this.handleLoggedOut = () => {\n      localStorage.removeItem(LS_KEY);\n      this.setState({\n        auth: undefined\n      });\n    };\n  }\n\n  componentDidMount() {\n    // Access token is stored in localstorage\n    const ls = window.localStorage.getItem(LS_KEY);\n    const auth = ls && JSON.parse(ls);\n    this.setState({\n      auth\n    });\n  }\n\n  render() {\n    const auth = this.state.auth;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      className: \"App-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: logo // className=\"App-logo\"\n      ,\n      alt: \"logo\",\n      style: {\n        height: '95%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"App-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }\n    }, \"Welcome to Login with MetaMask Demo\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App-intro\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }\n    }, auth ? /*#__PURE__*/React.createElement(Profile, {\n      auth: auth,\n      onLoggedOut: this.handleLoggedOut,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }) : /*#__PURE__*/React.createElement(Login, {\n      onLoggedIn: this.handleLoggedIn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    })));\n  }\n\n}","map":{"version":3,"sources":["/Users/ebra/code/blockchain/tezos/login-with-metamask-demo/packages/frontend/src/App/App.tsx"],"names":["React","Login","Profile","logo","LS_KEY","App","Component","state","handleLoggedIn","auth","localStorage","setItem","JSON","stringify","setState","handleLoggedOut","removeItem","undefined","componentDidMount","ls","window","getItem","parse","render","height"],"mappings":";AAAA,OAAO,WAAP;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,KAAT,QAAsB,UAAtB;AACA,SAASC,OAAT,QAAwB,oBAAxB;AAEA;AACA,OAAOC,IAAP,MAAiB,gBAAjB;AAEA,MAAMC,MAAM,GAAG,0BAAf;AAMA,OAAO,MAAMC,GAAN,SAAkBL,KAAK,CAACM,SAAxB,CAA6C;AAAA;AAAA;AAAA,SAClDC,KADkD,GACnC,EADmC;;AAAA,SAYlDC,cAZkD,GAYhCC,IAAD,IAAgB;AAC/BC,MAAAA,YAAY,CAACC,OAAb,CAAqBP,MAArB,EAA6BQ,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAA7B;AACA,WAAKK,QAAL,CAAc;AAAEL,QAAAA;AAAF,OAAd;AACD,KAfiD;;AAAA,SAiBlDM,eAjBkD,GAiBhC,MAAM;AACtBL,MAAAA,YAAY,CAACM,UAAb,CAAwBZ,MAAxB;AACA,WAAKU,QAAL,CAAc;AAAEL,QAAAA,IAAI,EAAEQ;AAAR,OAAd;AACD,KApBiD;AAAA;;AAGlDC,EAAAA,iBAAiB,GAAG;AAClB;AACA,UAAMC,EAAE,GAAGC,MAAM,CAACV,YAAP,CAAoBW,OAApB,CAA4BjB,MAA5B,CAAX;AACA,UAAMK,IAAI,GAAGU,EAAE,IAAIP,IAAI,CAACU,KAAL,CAAWH,EAAX,CAAnB;AACA,SAAKL,QAAL,CAAc;AACZL,MAAAA;AADY,KAAd;AAGD;;AAYDc,EAAAA,MAAM,GAAG;AAAA,UACCd,IADD,GACU,KAAKF,KADf,CACCE,IADD;AAGP,wBACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAQ,MAAA,SAAS,EAAC,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,GAAG,EAAEN,IADP,CAEE;AAFF;AAGE,MAAA,GAAG,EAAC,MAHN;AAIE,MAAA,KAAK,EAAE;AAAEqB,QAAAA,MAAM,EAAE;AAAV,OAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAOE;AAAI,MAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAPF,CADF,eAUE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGf,IAAI,gBACH,oBAAC,OAAD;AAAS,MAAA,IAAI,EAAEA,IAAf;AAAqB,MAAA,WAAW,EAAE,KAAKM,eAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADG,gBAGH,oBAAC,KAAD;AAAO,MAAA,UAAU,EAAE,KAAKP,cAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,CAVF,CADF;AAoBD;;AA7CiD","sourcesContent":["import './App.css';\n\nimport React from 'react';\n\nimport { Login } from '../Login';\nimport { Profile } from '../Profile/Profile';\nimport { Auth } from '../types';\n// import logo from './logo.svg';\nimport logo from './workflow.jpg';\n\nconst LS_KEY = 'login-with-metamask:auth';\n\ninterface State {\n  auth?: Auth;\n}\n\nexport class App extends React.Component<{}, State> {\n  state: State = {};\n\n  componentDidMount() {\n    // Access token is stored in localstorage\n    const ls = window.localStorage.getItem(LS_KEY);\n    const auth = ls && JSON.parse(ls);\n    this.setState({\n      auth,\n    });\n  }\n\n  handleLoggedIn = (auth: Auth) => {\n    localStorage.setItem(LS_KEY, JSON.stringify(auth));\n    this.setState({ auth });\n  };\n\n  handleLoggedOut = () => {\n    localStorage.removeItem(LS_KEY);\n    this.setState({ auth: undefined });\n  };\n\n  render() {\n    const { auth } = this.state;\n\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img\n            src={logo}\n            // className=\"App-logo\"\n            alt=\"logo\"\n            style={{ height: '95%' }}\n          />\n          <h1 className=\"App-title\">Welcome to Login with MetaMask Demo</h1>\n        </header>\n        <div className=\"App-intro\">\n          {auth ? (\n            <Profile auth={auth} onLoggedOut={this.handleLoggedOut} />\n          ) : (\n            <Login onLoggedIn={this.handleLoggedIn} />\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}