{"ast":null,"code":"import'./App.css';import React from'react';import{Login}from'../Login';import{Profile}from'../Profile/Profile';// import logo from './logo.svg';\nimport logo from'./workflow.jpg';const LS_KEY='login-with-metamask:auth';export class App extends React.Component{constructor(...args){super(...args);this.state={};this.handleLoggedIn=auth=>{localStorage.setItem(LS_KEY,JSON.stringify(auth));this.setState({auth});};this.handleLoggedOut=()=>{localStorage.removeItem(LS_KEY);this.setState({auth:undefined});};}componentDidMount(){// Access token is stored in localstorage\nconst ls=window.localStorage.getItem(LS_KEY);const auth=ls&&JSON.parse(ls);this.setState({auth});}render(){const auth=this.state.auth;return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(\"header\",{className:\"App-header\"},/*#__PURE__*/React.createElement(\"img\",{src:logo// className=\"App-logo\"\n,alt:\"logo\",style:{height:'95%'}}),/*#__PURE__*/React.createElement(\"h1\",{className:\"App-title\"},\"Welcome to Login with MetaMask Demo\")),/*#__PURE__*/React.createElement(\"div\",{className:\"App-intro\"},auth?/*#__PURE__*/React.createElement(Profile,{auth:auth,onLoggedOut:this.handleLoggedOut}):/*#__PURE__*/React.createElement(Login,{onLoggedIn:this.handleLoggedIn})));}}","map":{"version":3,"sources":["/Users/ebra/code/blockchain/tezos/login-with-metamask-demo/packages/frontend/src/App/App.tsx"],"names":["React","Login","Profile","logo","LS_KEY","App","Component","state","handleLoggedIn","auth","localStorage","setItem","JSON","stringify","setState","handleLoggedOut","removeItem","undefined","componentDidMount","ls","window","getItem","parse","render","height"],"mappings":"AAAA,MAAO,WAAP,CAEA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OAASC,KAAT,KAAsB,UAAtB,CACA,OAASC,OAAT,KAAwB,oBAAxB,CAEA;AACA,MAAOC,CAAAA,IAAP,KAAiB,gBAAjB,CAEA,KAAMC,CAAAA,MAAM,CAAG,0BAAf,CAMA,MAAO,MAAMC,CAAAA,GAAN,QAAkBL,CAAAA,KAAK,CAACM,SAAqB,0CAClDC,KADkD,CACnC,EADmC,MAYlDC,cAZkD,CAYhCC,IAAD,EAAgB,CAC/BC,YAAY,CAACC,OAAb,CAAqBP,MAArB,CAA6BQ,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAA7B,EACA,KAAKK,QAAL,CAAc,CAAEL,IAAF,CAAd,EACD,CAfiD,MAiBlDM,eAjBkD,CAiBhC,IAAM,CACtBL,YAAY,CAACM,UAAb,CAAwBZ,MAAxB,EACA,KAAKU,QAAL,CAAc,CAAEL,IAAI,CAAEQ,SAAR,CAAd,EACD,CApBiD,EAGlDC,iBAAiB,EAAG,CAClB;AACA,KAAMC,CAAAA,EAAE,CAAGC,MAAM,CAACV,YAAP,CAAoBW,OAApB,CAA4BjB,MAA5B,CAAX,CACA,KAAMK,CAAAA,IAAI,CAAGU,EAAE,EAAIP,IAAI,CAACU,KAAL,CAAWH,EAAX,CAAnB,CACA,KAAKL,QAAL,CAAc,CACZL,IADY,CAAd,EAGD,CAYDc,MAAM,EAAG,MACCd,CAAAA,IADD,CACU,KAAKF,KADf,CACCE,IADD,CAGP,mBACE,2BAAK,SAAS,CAAC,KAAf,eACE,8BAAQ,SAAS,CAAC,YAAlB,eACE,2BACE,GAAG,CAAEN,IACL;AAFF,CAGE,GAAG,CAAC,MAHN,CAIE,KAAK,CAAE,CAAEqB,MAAM,CAAE,KAAV,CAJT,EADF,cAOE,0BAAI,SAAS,CAAC,WAAd,wCAPF,CADF,cAUE,2BAAK,SAAS,CAAC,WAAf,EACGf,IAAI,cACH,oBAAC,OAAD,EAAS,IAAI,CAAEA,IAAf,CAAqB,WAAW,CAAE,KAAKM,eAAvC,EADG,cAGH,oBAAC,KAAD,EAAO,UAAU,CAAE,KAAKP,cAAxB,EAJJ,CAVF,CADF,CAoBD,CA7CiD","sourcesContent":["import './App.css';\n\nimport React from 'react';\n\nimport { Login } from '../Login';\nimport { Profile } from '../Profile/Profile';\nimport { Auth } from '../types';\n// import logo from './logo.svg';\nimport logo from './workflow.jpg';\n\nconst LS_KEY = 'login-with-metamask:auth';\n\ninterface State {\n  auth?: Auth;\n}\n\nexport class App extends React.Component<{}, State> {\n  state: State = {};\n\n  componentDidMount() {\n    // Access token is stored in localstorage\n    const ls = window.localStorage.getItem(LS_KEY);\n    const auth = ls && JSON.parse(ls);\n    this.setState({\n      auth,\n    });\n  }\n\n  handleLoggedIn = (auth: Auth) => {\n    localStorage.setItem(LS_KEY, JSON.stringify(auth));\n    this.setState({ auth });\n  };\n\n  handleLoggedOut = () => {\n    localStorage.removeItem(LS_KEY);\n    this.setState({ auth: undefined });\n  };\n\n  render() {\n    const { auth } = this.state;\n\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img\n            src={logo}\n            // className=\"App-logo\"\n            alt=\"logo\"\n            style={{ height: '95%' }}\n          />\n          <h1 className=\"App-title\">Welcome to Login with MetaMask Demo</h1>\n        </header>\n        <div className=\"App-intro\">\n          {auth ? (\n            <Profile auth={auth} onLoggedOut={this.handleLoggedOut} />\n          ) : (\n            <Login onLoggedIn={this.handleLoggedIn} />\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}